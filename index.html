<!DOCTYPE html>
<html lang="en" data-theme="nord">
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Style from https://github.com/creativetimofficial/tailwind-starter-kit/blob/main/Profile%20Page/html-profile-page/profile.html -->
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            clifford: '#da373d',
          }
        }
      }
    }
  </script>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body class="text-gray-800 antialiased">

  <main class="profile-page">
    <section class="relative block" style="height: 200px;">
    </section>
    <section class="relative py-16 bg-gray-300">
      <div class="container mx-auto px-4">
        <div
          class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64"
        >
          <div class="px-6">
            <div class="mt-10 py-10 border-t border-gray-300 text-center">
              <div class="flex flex-wrap justify-center">
                <div class="w-full lg:w-9/12 px-4">
                  <p class="mb-4 text-lg leading-relaxed text-gray-800">
                    <label class="form-control w-48 max-w-xs">
                      <input id="first" type="number" placeholder="Line of Scrimmage" class="input input-bordered w-full max-w-xs h-28 text-8xl" />
                    </label>
                    <br />
                    <label class="form-control w-48 max-w-xs">
                      <input id="second" type="number" placeholder="Tackled on the" class="input input-bordered w-full max-w-xs h-28 text-8xl" />
                    </label>

                    <span id="results" class="w-full max-w-xs h-28 text-8xl"></span>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

<script>
jq2 = jQuery.noConflict();

function calcYardage() {

  let val1 = jq2('#first').val();
  let val2 = jq2('#second').val();

  if (jq2.isNumeric(val1) && jq2.isNumeric(val2)) {
    if (val1 < 0) {
      val1 = 100 - Math.abs(val1);
    }

    if (val2 < 0) {
      val2 = 100 - Math.abs(val2);
    }

    let results = parseInt(val1) - parseInt(val2);
    jq2('#results').text(results);
  }
}

jq2(function( $ ) {
  calcYardage();

  var timeout = undefined;

  jq2('#first').trigger('focus');

  jq2('#first').keyup(function() {
    // console.log('First keyup');
    calcYardage();

    clearTimeout(timeout);
  });

  jq2('#second').keyup(function(e) {

    // Return if tab key is entered
    if (e.keyCode == 9) { console.log('skipping because it is the tab key'); return; }

    // console.log('Second keyup');
    calcYardage();

    console.log('Setting the timeout');
    clearTimeout(timeout);
    timeout = setTimeout(() =>{
      console.log('hit it');
      jq2('#first').val(parseInt(jq2('#second').val()));
      jq2('#second').val('');
      jq2('#results').val('');
      // jq2('#first').trigger('focus');
    }, 10000);
  });
});
</script>
</body>
</html>
